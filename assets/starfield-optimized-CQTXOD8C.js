import{b as m,t as S,i as M,c as i,o as u,S as v,a as z,e as A,f as T}from"./index-DX-aYNj7.js";import{d as k}from"./index-D20V7ycx.js";import{A as w,C as E,T as I,o as Z,a as H}from"./pixi-xd-GbF_k.js";import{A as _}from"./Assets-rSkcUCMF.js";var $=S("<div>"),O=S("<div>Loading...");const P=.025,p=20,x=720,C=400,X=.05,Y=o=>{const[c,f]=m(0),[s,l]=m(void 0),[a]=z(async()=>await _.load("/solid-pixi/img/star.png"));Z(t=>{f(r=>r+=t.deltaTime*10*P),e.forEach(y)});let e=[];A(T([()=>o.starCount,s,a],([t,r,d])=>{r&&d&&(e.forEach(n=>n.destroy()),e=Array.from({length:t},()=>{const n=new H(d),h=Math.random()*Math.PI*2,g=Math.random()*50+1;return n.initX=Math.cos(h)*g,n.initY=Math.sin(h)*g,n.initZ=Math.random()*1e3+750,n.x=n.initX,n.y=n.initY,n.z=n.initZ,n.anchor.set(.5,.7),n}),console.log("adding stars to container",e.length),r.addChild(...e))}));function y(t){let r=t.z-c();r<1&&(t.z+=Math.random()*2e3+1e3,r=t.z-c());const d=Math.max(0,(2e3-r)/2e3);t.scale.set(d*X),t.x=t.initX*(p/r)*x+x/2,t.y=t.initY*(p/r)*C+C/2}return u(()=>{e.forEach(t=>t.destroy())}),i(E,{ref:t=>l(t)})};function F(){const o=[100,1e3,1e4],[c,f]=m(o[0]);let s;u(()=>{s==null||s.pixiHooks.release()});const l=()=>{f(a=>{const e=(o.indexOf(a)+1)%o.length;return o[e]})};return(()=>{var a=$();return a.style.setProperty("position","relative"),M(a,i(v,{get fallback(){return O()},get children(){return i(w,{eventMode:"static",ref:e=>{s=new k.Stats(e.renderer,e.canvas.parentElement),e.stage.hitArea=e.screen,e.stage.on("pointertap",l),u(()=>{e.stage.off("pointertap",l)})},get children(){return i(E,{get children(){return[i(I,{get text(){return`${c().toLocaleString()} stars. Click anywhere to change.`},style:{fill:"white",fontSize:16}}),i(Y,{get starCount(){return c()}})]}})}})}})),a})()}export{F as default};
