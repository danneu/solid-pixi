{"version":3,"file":"Assets-DGQIuvJI.js","sources":["../../node_modules/pixi.js/lib/scene/text-bitmap/BitmapFont.mjs","../../node_modules/pixi.js/lib/scene/text-bitmap/asset/bitmapFontTextParser.mjs","../../node_modules/pixi.js/lib/scene/text-bitmap/asset/bitmapFontXMLParser.mjs","../../node_modules/pixi.js/lib/scene/text-bitmap/asset/bitmapFontXMLStringParser.mjs","../../node_modules/pixi.js/lib/scene/text-bitmap/asset/loadBitmapFont.mjs","../../node_modules/pixi.js/lib/assets/BackgroundLoader.mjs","../../node_modules/pixi.js/lib/assets/cache/parsers/cacheTextureArray.mjs","../../node_modules/pixi.js/lib/assets/detections/utils/testImageFormat.mjs","../../node_modules/pixi.js/lib/assets/detections/parsers/detectAvif.mjs","../../node_modules/pixi.js/lib/assets/detections/parsers/detectDefaults.mjs","../../node_modules/pixi.js/lib/assets/detections/utils/testVideoFormat.mjs","../../node_modules/pixi.js/lib/assets/detections/parsers/detectMp4.mjs","../../node_modules/pixi.js/lib/assets/detections/parsers/detectOgv.mjs","../../node_modules/pixi.js/lib/assets/detections/parsers/detectWebm.mjs","../../node_modules/pixi.js/lib/assets/detections/parsers/detectWebp.mjs","../../node_modules/pixi.js/lib/assets/loader/Loader.mjs","../../node_modules/pixi.js/lib/assets/utils/checkDataUrl.mjs","../../node_modules/pixi.js/lib/assets/utils/checkExtension.mjs","../../node_modules/pixi.js/lib/assets/loader/parsers/loadJson.mjs","../../node_modules/pixi.js/lib/assets/loader/parsers/loadTxt.mjs","../../node_modules/pixi.js/lib/assets/loader/parsers/loadWebFont.mjs","../../node_modules/pixi.js/lib/utils/network/getResolutionOfUrl.mjs","../../node_modules/pixi.js/lib/assets/loader/parsers/textures/utils/createTexture.mjs","../../node_modules/pixi.js/lib/assets/loader/parsers/textures/loadSVG.mjs","../../node_modules/pixi.js/lib/_virtual/checkImageBitmap.worker.mjs","../../node_modules/pixi.js/lib/_virtual/loadImageBitmap.worker.mjs","../../node_modules/pixi.js/lib/assets/loader/workers/WorkerManager.mjs","../../node_modules/pixi.js/lib/assets/loader/parsers/textures/loadTextures.mjs","../../node_modules/pixi.js/lib/assets/loader/parsers/textures/loadVideoTextures.mjs","../../node_modules/pixi.js/lib/assets/resolver/parsers/resolveTextureUrl.mjs","../../node_modules/pixi.js/lib/assets/resolver/parsers/resolveJsonUrl.mjs","../../node_modules/pixi.js/lib/assets/Assets.mjs"],"sourcesContent":["import { Rectangle } from '../../maths/shapes/Rectangle.mjs';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture.mjs';\nimport { AbstractBitmapFont } from './AbstractBitmapFont.mjs';\nimport { BitmapFontManager } from './BitmapFontManager.mjs';\n\n\"use strict\";\nclass BitmapFont extends AbstractBitmapFont {\n  constructor(options, url) {\n    super();\n    const { textures, data } = options;\n    Object.keys(data.pages).forEach((key) => {\n      const pageData = data.pages[parseInt(key, 10)];\n      const texture = textures[pageData.id];\n      this.pages.push({ texture });\n    });\n    Object.keys(data.chars).forEach((key) => {\n      const charData = data.chars[key];\n      const {\n        frame: textureFrame,\n        source: textureSource\n      } = textures[charData.page];\n      const frameReal = new Rectangle(\n        charData.x + textureFrame.x,\n        charData.y + textureFrame.y,\n        charData.width,\n        charData.height\n      );\n      const texture = new Texture({\n        source: textureSource,\n        frame: frameReal\n      });\n      this.chars[key] = {\n        id: key.codePointAt(0),\n        xOffset: charData.xOffset,\n        yOffset: charData.yOffset,\n        xAdvance: charData.xAdvance,\n        kerning: charData.kerning ?? {},\n        texture\n      };\n    });\n    this.baseRenderedFontSize = data.fontSize;\n    this.baseMeasurementFontSize = data.fontSize;\n    this.fontMetrics = {\n      ascent: 0,\n      descent: 0,\n      fontSize: data.fontSize\n    };\n    this.baseLineOffset = data.baseLineOffset;\n    this.lineHeight = data.lineHeight;\n    this.fontFamily = data.fontFamily;\n    this.distanceField = data.distanceField ?? {\n      type: \"none\",\n      range: 0\n    };\n    this.url = url;\n  }\n  /** Destroys the BitmapFont object. */\n  destroy() {\n    super.destroy();\n    for (let i = 0; i < this.pages.length; i++) {\n      const { texture } = this.pages[i];\n      texture.destroy(true);\n    }\n    this.pages = null;\n  }\n  /**\n   * Generates a bitmap-font for the given style and character set\n   * @param options - Setup options for font generation.\n   * @returns Font generated by style options.\n   * @example\n   * import { BitmapFont, BitmapText } from 'pixi.js';\n   *\n   * BitmapFont.install('TitleFont', {\n   *     fontFamily: 'Arial',\n   *     fontSize: 12,\n   *     strokeThickness: 2,\n   *     fill: 'purple',\n   * });\n   *\n   * const title = new BitmapText({ text: 'This is the title', fontFamily: 'TitleFont' });\n   */\n  static install(options) {\n    BitmapFontManager.install(options);\n  }\n  /**\n   * Uninstalls a bitmap font from the cache.\n   * @param {string} name - The name of the bitmap font to uninstall.\n   */\n  static uninstall(name) {\n    BitmapFontManager.uninstall(name);\n  }\n}\n\nexport { BitmapFont };\n//# sourceMappingURL=BitmapFont.mjs.map\n","\"use strict\";\nconst bitmapFontTextParser = {\n  test(data) {\n    return typeof data === \"string\" && data.startsWith(\"info face=\");\n  },\n  parse(txt) {\n    const items = txt.match(/^[a-z]+\\s+.+$/gm);\n    const rawData = {\n      info: [],\n      common: [],\n      page: [],\n      char: [],\n      chars: [],\n      kerning: [],\n      kernings: [],\n      distanceField: []\n    };\n    for (const i in items) {\n      const name = items[i].match(/^[a-z]+/gm)[0];\n      const attributeList = items[i].match(/[a-zA-Z]+=([^\\s\"']+|\"([^\"]*)\")/gm);\n      const itemData = {};\n      for (const i2 in attributeList) {\n        const split = attributeList[i2].split(\"=\");\n        const key = split[0];\n        const strValue = split[1].replace(/\"/gm, \"\");\n        const floatValue = parseFloat(strValue);\n        const value = isNaN(floatValue) ? strValue : floatValue;\n        itemData[key] = value;\n      }\n      rawData[name].push(itemData);\n    }\n    const font = {\n      chars: {},\n      pages: [],\n      lineHeight: 0,\n      fontSize: 0,\n      fontFamily: \"\",\n      distanceField: null,\n      baseLineOffset: 0\n    };\n    const [info] = rawData.info;\n    const [common] = rawData.common;\n    const [distanceField] = rawData.distanceField ?? [];\n    if (distanceField) {\n      font.distanceField = {\n        range: parseInt(distanceField.distanceRange, 10),\n        type: distanceField.fieldType\n      };\n    }\n    font.fontSize = parseInt(info.size, 10);\n    font.fontFamily = info.face;\n    font.lineHeight = parseInt(common.lineHeight, 10);\n    const page = rawData.page;\n    for (let i = 0; i < page.length; i++) {\n      font.pages.push({\n        id: parseInt(page[i].id, 10) || 0,\n        file: page[i].file\n      });\n    }\n    const map = {};\n    font.baseLineOffset = font.lineHeight - parseInt(common.base, 10);\n    const char = rawData.char;\n    for (let i = 0; i < char.length; i++) {\n      const charNode = char[i];\n      const id = parseInt(charNode.id, 10);\n      let letter = charNode.letter ?? charNode.char ?? String.fromCharCode(id);\n      if (letter === \"space\")\n        letter = \" \";\n      map[id] = letter;\n      font.chars[letter] = {\n        id,\n        // texture deets..\n        page: parseInt(charNode.page, 10) || 0,\n        x: parseInt(charNode.x, 10),\n        y: parseInt(charNode.y, 10),\n        width: parseInt(charNode.width, 10),\n        height: parseInt(charNode.height, 10),\n        xOffset: parseInt(charNode.xoffset, 10),\n        yOffset: parseInt(charNode.yoffset, 10),\n        xAdvance: parseInt(charNode.xadvance, 10),\n        kerning: {}\n      };\n    }\n    const kerning = rawData.kerning || [];\n    for (let i = 0; i < kerning.length; i++) {\n      const first = parseInt(kerning[i].first, 10);\n      const second = parseInt(kerning[i].second, 10);\n      const amount = parseInt(kerning[i].amount, 10);\n      font.chars[map[second]].kerning[map[first]] = amount;\n    }\n    return font;\n  }\n};\n\nexport { bitmapFontTextParser };\n//# sourceMappingURL=bitmapFontTextParser.mjs.map\n","\"use strict\";\nconst bitmapFontXMLParser = {\n  test(data) {\n    const xml = data;\n    return typeof xml !== \"string\" && \"getElementsByTagName\" in xml && xml.getElementsByTagName(\"page\").length && xml.getElementsByTagName(\"info\")[0].getAttribute(\"face\") !== null;\n  },\n  parse(xml) {\n    const data = {\n      chars: {},\n      pages: [],\n      lineHeight: 0,\n      fontSize: 0,\n      fontFamily: \"\",\n      distanceField: null,\n      baseLineOffset: 0\n    };\n    const info = xml.getElementsByTagName(\"info\")[0];\n    const common = xml.getElementsByTagName(\"common\")[0];\n    const distanceField = xml.getElementsByTagName(\"distanceField\")[0];\n    if (distanceField) {\n      data.distanceField = {\n        type: distanceField.getAttribute(\"fieldType\"),\n        range: parseInt(distanceField.getAttribute(\"distanceRange\"), 10)\n      };\n    }\n    const page = xml.getElementsByTagName(\"page\");\n    const char = xml.getElementsByTagName(\"char\");\n    const kerning = xml.getElementsByTagName(\"kerning\");\n    data.fontSize = parseInt(info.getAttribute(\"size\"), 10);\n    data.fontFamily = info.getAttribute(\"face\");\n    data.lineHeight = parseInt(common.getAttribute(\"lineHeight\"), 10);\n    for (let i = 0; i < page.length; i++) {\n      data.pages.push({\n        id: parseInt(page[i].getAttribute(\"id\"), 10) || 0,\n        file: page[i].getAttribute(\"file\")\n      });\n    }\n    const map = {};\n    data.baseLineOffset = data.lineHeight - parseInt(common.getAttribute(\"base\"), 10);\n    for (let i = 0; i < char.length; i++) {\n      const charNode = char[i];\n      const id = parseInt(charNode.getAttribute(\"id\"), 10);\n      let letter = charNode.getAttribute(\"letter\") ?? charNode.getAttribute(\"char\") ?? String.fromCharCode(id);\n      if (letter === \"space\")\n        letter = \" \";\n      map[id] = letter;\n      data.chars[letter] = {\n        id,\n        // texture deets..\n        page: parseInt(charNode.getAttribute(\"page\"), 10) || 0,\n        x: parseInt(charNode.getAttribute(\"x\"), 10),\n        y: parseInt(charNode.getAttribute(\"y\"), 10),\n        width: parseInt(charNode.getAttribute(\"width\"), 10),\n        height: parseInt(charNode.getAttribute(\"height\"), 10),\n        // render deets..\n        xOffset: parseInt(charNode.getAttribute(\"xoffset\"), 10),\n        yOffset: parseInt(charNode.getAttribute(\"yoffset\"), 10),\n        // + baseLineOffset,\n        xAdvance: parseInt(charNode.getAttribute(\"xadvance\"), 10),\n        kerning: {}\n      };\n    }\n    for (let i = 0; i < kerning.length; i++) {\n      const first = parseInt(kerning[i].getAttribute(\"first\"), 10);\n      const second = parseInt(kerning[i].getAttribute(\"second\"), 10);\n      const amount = parseInt(kerning[i].getAttribute(\"amount\"), 10);\n      data.chars[map[second]].kerning[map[first]] = amount;\n    }\n    return data;\n  }\n};\n\nexport { bitmapFontXMLParser };\n//# sourceMappingURL=bitmapFontXMLParser.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { bitmapFontXMLParser } from './bitmapFontXMLParser.mjs';\n\n\"use strict\";\nconst bitmapFontXMLStringParser = {\n  test(data) {\n    if (typeof data === \"string\" && data.includes(\"<font>\")) {\n      return bitmapFontXMLParser.test(DOMAdapter.get().parseXML(data));\n    }\n    return false;\n  },\n  parse(data) {\n    return bitmapFontXMLParser.parse(DOMAdapter.get().parseXML(data));\n  }\n};\n\nexport { bitmapFontXMLStringParser };\n//# sourceMappingURL=bitmapFontXMLStringParser.mjs.map\n","import { LoaderParserPriority } from '../../../assets/loader/parsers/LoaderParser.mjs';\nimport { copySearchParams } from '../../../assets/utils/copySearchParams.mjs';\nimport { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { path } from '../../../utils/path.mjs';\nimport { BitmapFont } from '../BitmapFont.mjs';\nimport { bitmapFontTextParser } from './bitmapFontTextParser.mjs';\nimport { bitmapFontXMLStringParser } from './bitmapFontXMLStringParser.mjs';\n\n\"use strict\";\nconst validExtensions = [\".xml\", \".fnt\"];\nconst bitmapFontCachePlugin = {\n  extension: {\n    type: ExtensionType.CacheParser,\n    name: \"cacheBitmapFont\"\n  },\n  test: (asset) => asset instanceof BitmapFont,\n  getCacheableAssets(keys, asset) {\n    const out = {};\n    keys.forEach((key) => {\n      out[key] = asset;\n      out[`${key}-bitmap`] = asset;\n    });\n    out[`${asset.fontFamily}-bitmap`] = asset;\n    return out;\n  }\n};\nconst loadBitmapFont = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Normal\n  },\n  name: \"loadBitmapFont\",\n  test(url) {\n    return validExtensions.includes(path.extname(url).toLowerCase());\n  },\n  async testParse(data) {\n    return bitmapFontTextParser.test(data) || bitmapFontXMLStringParser.test(data);\n  },\n  async parse(asset, data, loader) {\n    const bitmapFontData = bitmapFontTextParser.test(asset) ? bitmapFontTextParser.parse(asset) : bitmapFontXMLStringParser.parse(asset);\n    const { src } = data;\n    const { pages } = bitmapFontData;\n    const textureUrls = [];\n    const textureOptions = bitmapFontData.distanceField ? {\n      scaleMode: \"linear\",\n      alphaMode: \"premultiply-alpha-on-upload\",\n      autoGenerateMipmaps: false,\n      resolution: 1\n    } : {};\n    for (let i = 0; i < pages.length; ++i) {\n      const pageFile = pages[i].file;\n      let imagePath = path.join(path.dirname(src), pageFile);\n      imagePath = copySearchParams(imagePath, src);\n      textureUrls.push({\n        src: imagePath,\n        data: textureOptions\n      });\n    }\n    const loadedTextures = await loader.load(textureUrls);\n    const textures = textureUrls.map((url) => loadedTextures[url.src]);\n    const bitmapFont = new BitmapFont({\n      data: bitmapFontData,\n      textures\n    }, src);\n    return bitmapFont;\n  },\n  async load(url, _options) {\n    const response = await DOMAdapter.get().fetch(url);\n    return await response.text();\n  },\n  async unload(bitmapFont, _resolvedAsset, loader) {\n    await Promise.all(bitmapFont.pages.map((page) => loader.unload(page.texture.source._sourceOrigin)));\n    bitmapFont.destroy();\n  }\n};\n\nexport { bitmapFontCachePlugin, loadBitmapFont };\n//# sourceMappingURL=loadBitmapFont.mjs.map\n","\"use strict\";\nclass BackgroundLoader {\n  /**\n   * @param loader\n   * @param verbose - should the loader log to the console\n   */\n  constructor(loader, verbose = false) {\n    this._loader = loader;\n    this._assetList = [];\n    this._isLoading = false;\n    this._maxConcurrent = 1;\n    this.verbose = verbose;\n  }\n  /**\n   * Adds an array of assets to load.\n   * @param assetUrls - assets to load\n   */\n  add(assetUrls) {\n    assetUrls.forEach((a) => {\n      this._assetList.push(a);\n    });\n    if (this.verbose) {\n      console.log(\"[BackgroundLoader] assets: \", this._assetList);\n    }\n    if (this._isActive && !this._isLoading) {\n      void this._next();\n    }\n  }\n  /**\n   * Loads the next set of assets. Will try to load as many assets as it can at the same time.\n   *\n   * The max assets it will try to load at one time will be 4.\n   */\n  async _next() {\n    if (this._assetList.length && this._isActive) {\n      this._isLoading = true;\n      const toLoad = [];\n      const toLoadAmount = Math.min(this._assetList.length, this._maxConcurrent);\n      for (let i = 0; i < toLoadAmount; i++) {\n        toLoad.push(this._assetList.pop());\n      }\n      await this._loader.load(toLoad);\n      this._isLoading = false;\n      void this._next();\n    }\n  }\n  /**\n   * Activate/Deactivate the loading. If set to true then it will immediately continue to load the next asset.\n   * @returns whether the class is active\n   */\n  get active() {\n    return this._isActive;\n  }\n  set active(value) {\n    if (this._isActive === value)\n      return;\n    this._isActive = value;\n    if (value && !this._isLoading) {\n      void this._next();\n    }\n  }\n}\n\nexport { BackgroundLoader };\n//# sourceMappingURL=BackgroundLoader.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\n\n\"use strict\";\nconst cacheTextureArray = {\n  extension: {\n    type: ExtensionType.CacheParser,\n    name: \"cacheTextureArray\"\n  },\n  test: (asset) => Array.isArray(asset) && asset.every((t) => t instanceof Texture),\n  getCacheableAssets: (keys, asset) => {\n    const out = {};\n    keys.forEach((key) => {\n      asset.forEach((item, i) => {\n        out[key + (i === 0 ? \"\" : i + 1)] = item;\n      });\n    });\n    return out;\n  }\n};\n\nexport { cacheTextureArray };\n//# sourceMappingURL=cacheTextureArray.mjs.map\n","\"use strict\";\nasync function testImageFormat(imageData) {\n  if (\"Image\" in globalThis) {\n    return new Promise((resolve) => {\n      const image = new Image();\n      image.onload = () => {\n        resolve(true);\n      };\n      image.onerror = () => {\n        resolve(false);\n      };\n      image.src = imageData;\n    });\n  }\n  if (\"createImageBitmap\" in globalThis && \"fetch\" in globalThis) {\n    try {\n      const blob = await (await fetch(imageData)).blob();\n      await createImageBitmap(blob);\n    } catch (_e) {\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport { testImageFormat };\n//# sourceMappingURL=testImageFormat.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testImageFormat } from '../utils/testImageFormat.mjs';\n\n\"use strict\";\nconst detectAvif = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 1\n  },\n  test: async () => testImageFormat(\n    // eslint-disable-next-line max-len\n    \"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=\"\n  ),\n  add: async (formats) => [...formats, \"avif\"],\n  remove: async (formats) => formats.filter((f) => f !== \"avif\")\n};\n\nexport { detectAvif };\n//# sourceMappingURL=detectAvif.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nconst imageFormats = [\"png\", \"jpg\", \"jpeg\"];\nconst detectDefaults = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: -1\n  },\n  test: () => Promise.resolve(true),\n  add: async (formats) => [...formats, ...imageFormats],\n  remove: async (formats) => formats.filter((f) => !imageFormats.includes(f))\n};\n\nexport { detectDefaults };\n//# sourceMappingURL=detectDefaults.mjs.map\n","\"use strict\";\nconst inWorker = \"WorkerGlobalScope\" in globalThis && globalThis instanceof globalThis.WorkerGlobalScope;\nfunction testVideoFormat(mimeType) {\n  if (inWorker) {\n    return false;\n  }\n  const video = document.createElement(\"video\");\n  return video.canPlayType(mimeType) !== \"\";\n}\n\nexport { testVideoFormat };\n//# sourceMappingURL=testVideoFormat.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectMp4 = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/mp4\"),\n  add: async (formats) => [...formats, \"mp4\", \"m4v\"],\n  remove: async (formats) => formats.filter((f) => f !== \"mp4\" && f !== \"m4v\")\n};\n\nexport { detectMp4 };\n//# sourceMappingURL=detectMp4.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectOgv = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/ogg\"),\n  add: async (formats) => [...formats, \"ogv\"],\n  remove: async (formats) => formats.filter((f) => f !== \"ogv\")\n};\n\nexport { detectOgv };\n//# sourceMappingURL=detectOgv.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testVideoFormat } from '../utils/testVideoFormat.mjs';\n\n\"use strict\";\nconst detectWebm = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testVideoFormat(\"video/webm\"),\n  add: async (formats) => [...formats, \"webm\"],\n  remove: async (formats) => formats.filter((f) => f !== \"webm\")\n};\n\nexport { detectWebm };\n//# sourceMappingURL=detectWebm.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { testImageFormat } from '../utils/testImageFormat.mjs';\n\n\"use strict\";\nconst detectWebp = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => testImageFormat(\n    \"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\"\n  ),\n  add: async (formats) => [...formats, \"webp\"],\n  remove: async (formats) => formats.filter((f) => f !== \"webp\")\n};\n\nexport { detectWebp };\n//# sourceMappingURL=detectWebp.mjs.map\n","import { warn } from '../../utils/logging/warn.mjs';\nimport { path } from '../../utils/path.mjs';\nimport { convertToList } from '../utils/convertToList.mjs';\nimport { isSingleItem } from '../utils/isSingleItem.mjs';\n\n\"use strict\";\nclass Loader {\n  constructor() {\n    this._parsers = [];\n    this._parsersValidated = false;\n    /**\n     * All loader parsers registered\n     * @type {assets.LoaderParser[]}\n     */\n    this.parsers = new Proxy(this._parsers, {\n      set: (target, key, value) => {\n        this._parsersValidated = false;\n        target[key] = value;\n        return true;\n      }\n    });\n    /** Cache loading promises that ae currently active */\n    this.promiseCache = {};\n  }\n  /** function used for testing */\n  reset() {\n    this._parsersValidated = false;\n    this.promiseCache = {};\n  }\n  /**\n   * Used internally to generate a promise for the asset to be loaded.\n   * @param url - The URL to be loaded\n   * @param data - any custom additional information relevant to the asset being loaded\n   * @returns - a promise that will resolve to an Asset for example a Texture of a JSON object\n   */\n  _getLoadPromiseAndParser(url, data) {\n    const result = {\n      promise: null,\n      parser: null\n    };\n    result.promise = (async () => {\n      let asset = null;\n      let parser = null;\n      if (data.loadParser) {\n        parser = this._parserHash[data.loadParser];\n        if (!parser) {\n          warn(`[Assets] specified load parser \"${data.loadParser}\" not found while loading ${url}`);\n        }\n      }\n      if (!parser) {\n        for (let i = 0; i < this.parsers.length; i++) {\n          const parserX = this.parsers[i];\n          if (parserX.load && parserX.test?.(url, data, this)) {\n            parser = parserX;\n            break;\n          }\n        }\n        if (!parser) {\n          warn(`[Assets] ${url} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`);\n          return null;\n        }\n      }\n      asset = await parser.load(url, data, this);\n      result.parser = parser;\n      for (let i = 0; i < this.parsers.length; i++) {\n        const parser2 = this.parsers[i];\n        if (parser2.parse) {\n          if (parser2.parse && await parser2.testParse?.(asset, data, this)) {\n            asset = await parser2.parse(asset, data, this) || asset;\n            result.parser = parser2;\n          }\n        }\n      }\n      return asset;\n    })();\n    return result;\n  }\n  async load(assetsToLoadIn, onProgress) {\n    if (!this._parsersValidated) {\n      this._validateParsers();\n    }\n    let count = 0;\n    const assets = {};\n    const singleAsset = isSingleItem(assetsToLoadIn);\n    const assetsToLoad = convertToList(assetsToLoadIn, (item) => ({\n      alias: [item],\n      src: item,\n      data: {}\n    }));\n    const total = assetsToLoad.length;\n    const promises = assetsToLoad.map(async (asset) => {\n      const url = path.toAbsolute(asset.src);\n      if (!assets[asset.src]) {\n        try {\n          if (!this.promiseCache[url]) {\n            this.promiseCache[url] = this._getLoadPromiseAndParser(url, asset);\n          }\n          assets[asset.src] = await this.promiseCache[url].promise;\n          if (onProgress)\n            onProgress(++count / total);\n        } catch (e) {\n          delete this.promiseCache[url];\n          delete assets[asset.src];\n          throw new Error(`[Loader.load] Failed to load ${url}.\n${e}`);\n        }\n      }\n    });\n    await Promise.all(promises);\n    return singleAsset ? assets[assetsToLoad[0].src] : assets;\n  }\n  /**\n   * Unloads one or more assets. Any unloaded assets will be destroyed, freeing up memory for your app.\n   * The parser that created the asset, will be the one that unloads it.\n   * @example\n   * // Single asset:\n   * const asset = await Loader.load('cool.png');\n   *\n   * await Loader.unload('cool.png');\n   *\n   * console.log(asset.destroyed); // true\n   * @param assetsToUnloadIn - urls that you want to unload, or a single one!\n   */\n  async unload(assetsToUnloadIn) {\n    const assetsToUnload = convertToList(assetsToUnloadIn, (item) => ({\n      alias: [item],\n      src: item\n    }));\n    const promises = assetsToUnload.map(async (asset) => {\n      const url = path.toAbsolute(asset.src);\n      const loadPromise = this.promiseCache[url];\n      if (loadPromise) {\n        const loadedAsset = await loadPromise.promise;\n        delete this.promiseCache[url];\n        await loadPromise.parser?.unload?.(loadedAsset, asset, this);\n      }\n    });\n    await Promise.all(promises);\n  }\n  /** validates our parsers, right now it only checks for name conflicts but we can add more here as required! */\n  _validateParsers() {\n    this._parsersValidated = true;\n    this._parserHash = this._parsers.filter((parser) => parser.name).reduce((hash, parser) => {\n      if (!parser.name) {\n        warn(`[Assets] loadParser should have a name`);\n      } else if (hash[parser.name]) {\n        warn(`[Assets] loadParser name conflict \"${parser.name}\"`);\n      }\n      return { ...hash, [parser.name]: parser };\n    }, {});\n  }\n}\n\nexport { Loader };\n//# sourceMappingURL=Loader.mjs.map\n","\"use strict\";\nfunction checkDataUrl(url, mimes) {\n  if (Array.isArray(mimes)) {\n    for (const mime of mimes) {\n      if (url.startsWith(`data:${mime}`))\n        return true;\n    }\n    return false;\n  }\n  return url.startsWith(`data:${mimes}`);\n}\n\nexport { checkDataUrl };\n//# sourceMappingURL=checkDataUrl.mjs.map\n","import { path } from '../../utils/path.mjs';\n\n\"use strict\";\nfunction checkExtension(url, extension) {\n  const tempURL = url.split(\"?\")[0];\n  const ext = path.extname(tempURL).toLowerCase();\n  if (Array.isArray(extension)) {\n    return extension.includes(ext);\n  }\n  return ext === extension;\n}\n\nexport { checkExtension };\n//# sourceMappingURL=checkExtension.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validJSONExtension = \".json\";\nconst validJSONMIME = \"application/json\";\nconst loadJson = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  name: \"loadJson\",\n  test(url) {\n    return checkDataUrl(url, validJSONMIME) || checkExtension(url, validJSONExtension);\n  },\n  async load(url) {\n    const response = await DOMAdapter.get().fetch(url);\n    const json = await response.json();\n    return json;\n  }\n};\n\nexport { loadJson };\n//# sourceMappingURL=loadJson.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validTXTExtension = \".txt\";\nconst validTXTMIME = \"text/plain\";\nconst loadTxt = {\n  name: \"loadTxt\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low,\n    name: \"loadTxt\"\n  },\n  test(url) {\n    return checkDataUrl(url, validTXTMIME) || checkExtension(url, validTXTExtension);\n  },\n  async load(url) {\n    const response = await DOMAdapter.get().fetch(url);\n    const txt = await response.text();\n    return txt;\n  }\n};\n\nexport { loadTxt };\n//# sourceMappingURL=loadTxt.mjs.map\n","import { DOMAdapter } from '../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\nimport { path } from '../../../utils/path.mjs';\nimport { Cache } from '../../cache/Cache.mjs';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\n\"use strict\";\nconst validWeights = [\n  \"normal\",\n  \"bold\",\n  \"100\",\n  \"200\",\n  \"300\",\n  \"400\",\n  \"500\",\n  \"600\",\n  \"700\",\n  \"800\",\n  \"900\"\n];\nconst validFontExtensions = [\".ttf\", \".otf\", \".woff\", \".woff2\"];\nconst validFontMIMEs = [\n  \"font/ttf\",\n  \"font/otf\",\n  \"font/woff\",\n  \"font/woff2\"\n];\nconst CSS_IDENT_TOKEN_REGEX = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;\nfunction getFontFamilyName(url) {\n  const ext = path.extname(url);\n  const name = path.basename(url, ext);\n  const nameWithSpaces = name.replace(/(-|_)/g, \" \");\n  const nameTokens = nameWithSpaces.toLowerCase().split(\" \").map((word) => word.charAt(0).toUpperCase() + word.slice(1));\n  let valid = nameTokens.length > 0;\n  for (const token of nameTokens) {\n    if (!token.match(CSS_IDENT_TOKEN_REGEX)) {\n      valid = false;\n      break;\n    }\n  }\n  let fontFamilyName = nameTokens.join(\" \");\n  if (!valid) {\n    fontFamilyName = `\"${fontFamilyName.replace(/[\\\\\"]/g, \"\\\\$&\")}\"`;\n  }\n  return fontFamilyName;\n}\nconst validURICharactersRegex = /^[0-9A-Za-z%:/?#\\[\\]@!\\$&'()\\*\\+,;=\\-._~]*$/;\nfunction encodeURIWhenNeeded(uri) {\n  if (validURICharactersRegex.test(uri)) {\n    return uri;\n  }\n  return encodeURI(uri);\n}\nconst loadWebFont = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  name: \"loadWebFont\",\n  test(url) {\n    return checkDataUrl(url, validFontMIMEs) || checkExtension(url, validFontExtensions);\n  },\n  async load(url, options) {\n    const fonts = DOMAdapter.get().getFontFaceSet();\n    if (fonts) {\n      const fontFaces = [];\n      const name = options.data?.family ?? getFontFamilyName(url);\n      const weights = options.data?.weights?.filter((weight) => validWeights.includes(weight)) ?? [\"normal\"];\n      const data = options.data ?? {};\n      for (let i = 0; i < weights.length; i++) {\n        const weight = weights[i];\n        const font = new FontFace(name, `url(${encodeURIWhenNeeded(url)})`, {\n          ...data,\n          weight\n        });\n        await font.load();\n        fonts.add(font);\n        fontFaces.push(font);\n      }\n      Cache.set(`${name}-and-url`, {\n        url,\n        fontFaces\n      });\n      return fontFaces.length === 1 ? fontFaces[0] : fontFaces;\n    }\n    warn(\"[loadWebFont] FontFace API is not supported. Skipping loading font\");\n    return null;\n  },\n  unload(font) {\n    (Array.isArray(font) ? font : [font]).forEach((t) => {\n      Cache.remove(`${t.family}-and-url`);\n      DOMAdapter.get().getFontFaceSet().delete(t);\n    });\n  }\n};\n\nexport { getFontFamilyName, loadWebFont };\n//# sourceMappingURL=loadWebFont.mjs.map\n","import { Resolver } from '../../assets/resolver/Resolver.mjs';\n\n\"use strict\";\nfunction getResolutionOfUrl(url, defaultValue = 1) {\n  const resolution = Resolver.RETINA_PREFIX?.exec(url);\n  if (resolution) {\n    return parseFloat(resolution[1]);\n  }\n  return defaultValue;\n}\n\nexport { getResolutionOfUrl };\n//# sourceMappingURL=getResolutionOfUrl.mjs.map\n","import { Texture } from '../../../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { warn } from '../../../../../utils/logging/warn.mjs';\nimport { Cache } from '../../../../cache/Cache.mjs';\n\n\"use strict\";\nfunction createTexture(source, loader, url) {\n  source.label = url;\n  source._sourceOrigin = url;\n  const texture = new Texture({\n    source,\n    label: url\n  });\n  const unload = () => {\n    delete loader.promiseCache[url];\n    if (Cache.has(url)) {\n      Cache.remove(url);\n    }\n  };\n  texture.source.once(\"destroy\", () => {\n    if (loader.promiseCache[url]) {\n      warn(\"[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource.\");\n      unload();\n    }\n  });\n  texture.once(\"destroy\", () => {\n    if (!source.destroyed) {\n      warn(\"[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture.\");\n      unload();\n    }\n  });\n  return texture;\n}\n\nexport { createTexture };\n//# sourceMappingURL=createTexture.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource.mjs';\nimport { GraphicsContext } from '../../../../scene/graphics/shared/GraphicsContext.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from '../LoaderParser.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst validSVGExtension = \".svg\";\nconst validSVGMIME = \"image/svg+xml\";\nconst loadSvg = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low,\n    name: \"loadSVG\"\n  },\n  name: \"loadSVG\",\n  config: {\n    crossOrigin: \"anonymous\",\n    parseAsGraphicsContext: false\n  },\n  test(url) {\n    return checkDataUrl(url, validSVGMIME) || checkExtension(url, validSVGExtension);\n  },\n  async load(url, asset, loader) {\n    if (asset.data?.parseAsGraphicsContext ?? this.config.parseAsGraphicsContext) {\n      return loadAsGraphics(url);\n    }\n    return loadAsTexture(url, asset, loader, this.config.crossOrigin);\n  },\n  unload(asset) {\n    asset.destroy(true);\n  }\n};\nasync function loadAsTexture(url, asset, loader, crossOrigin) {\n  const response = await DOMAdapter.get().fetch(url);\n  const blob = await response.blob();\n  const blobUrl = URL.createObjectURL(blob);\n  const image = new Image();\n  image.src = blobUrl;\n  image.crossOrigin = crossOrigin;\n  await image.decode();\n  URL.revokeObjectURL(blobUrl);\n  const canvas = document.createElement(\"canvas\");\n  const context = canvas.getContext(\"2d\");\n  const resolution = asset.data?.resolution || getResolutionOfUrl(url);\n  const width = asset.data?.width ?? image.width;\n  const height = asset.data?.height ?? image.height;\n  canvas.width = width * resolution;\n  canvas.height = height * resolution;\n  context.drawImage(image, 0, 0, width * resolution, height * resolution);\n  const { parseAsGraphicsContext: _p, ...rest } = asset.data ?? {};\n  const base = new ImageSource({\n    resource: canvas,\n    alphaMode: \"premultiply-alpha-on-upload\",\n    resolution,\n    ...rest\n  });\n  return createTexture(base, loader, url);\n}\nasync function loadAsGraphics(url) {\n  const response = await DOMAdapter.get().fetch(url);\n  const svgSource = await response.text();\n  const context = new GraphicsContext();\n  context.svg(svgSource);\n  return context;\n}\n\nexport { loadSvg };\n//# sourceMappingURL=loadSVG.mjs.map\n","const WORKER_CODE = \"(function () {\\n    'use strict';\\n\\n    const WHITE_PNG = \\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=\\\";\\n    async function checkImageBitmap() {\\n      try {\\n        if (typeof createImageBitmap !== \\\"function\\\")\\n          return false;\\n        const response = await fetch(WHITE_PNG);\\n        const imageBlob = await response.blob();\\n        const imageBitmap = await createImageBitmap(imageBlob);\\n        return imageBitmap.width === 1 && imageBitmap.height === 1;\\n      } catch (_e) {\\n        return false;\\n      }\\n    }\\n    void checkImageBitmap().then((result) => {\\n      self.postMessage(result);\\n    });\\n\\n})();\\n\";\nlet WORKER_URL = null;\nclass WorkerInstance\n{\n    constructor()\n    {\n        if (!WORKER_URL)\n        {\n            WORKER_URL = URL.createObjectURL(new Blob([WORKER_CODE], { type: 'application/javascript' }));\n        }\n        this.worker = new Worker(WORKER_URL);\n    }\n}\nWorkerInstance.revokeObjectURL = function revokeObjectURL()\n{\n    if (WORKER_URL)\n    {\n        URL.revokeObjectURL(WORKER_URL);\n        WORKER_URL = null;\n    }\n};\n\nexport { WorkerInstance as default };\n//# sourceMappingURL=checkImageBitmap.worker.mjs.map\n","const WORKER_CODE = \"(function () {\\n    'use strict';\\n\\n    async function loadImageBitmap(url, alphaMode) {\\n      const response = await fetch(url);\\n      if (!response.ok) {\\n        throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\\n      }\\n      const imageBlob = await response.blob();\\n      return alphaMode === \\\"premultiplied-alpha\\\" ? createImageBitmap(imageBlob, { premultiplyAlpha: \\\"none\\\" }) : createImageBitmap(imageBlob);\\n    }\\n    self.onmessage = async (event) => {\\n      try {\\n        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);\\n        self.postMessage({\\n          data: imageBitmap,\\n          uuid: event.data.uuid,\\n          id: event.data.id\\n        }, [imageBitmap]);\\n      } catch (e) {\\n        self.postMessage({\\n          error: e,\\n          uuid: event.data.uuid,\\n          id: event.data.id\\n        });\\n      }\\n    };\\n\\n})();\\n\";\nlet WORKER_URL = null;\nclass WorkerInstance\n{\n    constructor()\n    {\n        if (!WORKER_URL)\n        {\n            WORKER_URL = URL.createObjectURL(new Blob([WORKER_CODE], { type: 'application/javascript' }));\n        }\n        this.worker = new Worker(WORKER_URL);\n    }\n}\nWorkerInstance.revokeObjectURL = function revokeObjectURL()\n{\n    if (WORKER_URL)\n    {\n        URL.revokeObjectURL(WORKER_URL);\n        WORKER_URL = null;\n    }\n};\n\nexport { WorkerInstance as default };\n//# sourceMappingURL=loadImageBitmap.worker.mjs.map\n","import WorkerInstance from '../../../_virtual/checkImageBitmap.worker.mjs';\nimport WorkerInstance$1 from '../../../_virtual/loadImageBitmap.worker.mjs';\n\n\"use strict\";\nlet UUID = 0;\nlet MAX_WORKERS;\nclass WorkerManagerClass {\n  constructor() {\n    this._initialized = false;\n    this._createdWorkers = 0;\n    this._workerPool = [];\n    this._queue = [];\n    this._resolveHash = {};\n  }\n  isImageBitmapSupported() {\n    if (this._isImageBitmapSupported !== void 0)\n      return this._isImageBitmapSupported;\n    this._isImageBitmapSupported = new Promise((resolve) => {\n      const { worker } = new WorkerInstance();\n      worker.addEventListener(\"message\", (event) => {\n        worker.terminate();\n        WorkerInstance.revokeObjectURL();\n        resolve(event.data);\n      });\n    });\n    return this._isImageBitmapSupported;\n  }\n  loadImageBitmap(src, asset) {\n    return this._run(\"loadImageBitmap\", [src, asset?.data?.alphaMode]);\n  }\n  async _initWorkers() {\n    if (this._initialized)\n      return;\n    this._initialized = true;\n  }\n  _getWorker() {\n    if (MAX_WORKERS === void 0) {\n      MAX_WORKERS = navigator.hardwareConcurrency || 4;\n    }\n    let worker = this._workerPool.pop();\n    if (!worker && this._createdWorkers < MAX_WORKERS) {\n      this._createdWorkers++;\n      worker = new WorkerInstance$1().worker;\n      worker.addEventListener(\"message\", (event) => {\n        this._complete(event.data);\n        this._returnWorker(event.target);\n        this._next();\n      });\n    }\n    return worker;\n  }\n  _returnWorker(worker) {\n    this._workerPool.push(worker);\n  }\n  _complete(data) {\n    if (data.error !== void 0) {\n      this._resolveHash[data.uuid].reject(data.error);\n    } else {\n      this._resolveHash[data.uuid].resolve(data.data);\n    }\n    this._resolveHash[data.uuid] = null;\n  }\n  async _run(id, args) {\n    await this._initWorkers();\n    const promise = new Promise((resolve, reject) => {\n      this._queue.push({ id, arguments: args, resolve, reject });\n    });\n    this._next();\n    return promise;\n  }\n  _next() {\n    if (!this._queue.length)\n      return;\n    const worker = this._getWorker();\n    if (!worker) {\n      return;\n    }\n    const toDo = this._queue.pop();\n    const id = toDo.id;\n    this._resolveHash[UUID] = { resolve: toDo.resolve, reject: toDo.reject };\n    worker.postMessage({\n      data: toDo.arguments,\n      uuid: UUID++,\n      id\n    });\n  }\n}\nconst WorkerManager = new WorkerManagerClass();\n\nexport { WorkerManager };\n//# sourceMappingURL=WorkerManager.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { WorkerManager } from '../../workers/WorkerManager.mjs';\nimport { LoaderParserPriority } from '../LoaderParser.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst validImageExtensions = [\".jpeg\", \".jpg\", \".png\", \".webp\", \".avif\"];\nconst validImageMIMEs = [\n  \"image/jpeg\",\n  \"image/png\",\n  \"image/webp\",\n  \"image/avif\"\n];\nasync function loadImageBitmap(url, asset) {\n  const response = await DOMAdapter.get().fetch(url);\n  if (!response.ok) {\n    throw new Error(`[loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n  }\n  const imageBlob = await response.blob();\n  return asset?.data?.alphaMode === \"premultiplied-alpha\" ? createImageBitmap(imageBlob, { premultiplyAlpha: \"none\" }) : createImageBitmap(imageBlob);\n}\nconst loadTextures = {\n  name: \"loadTextures\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High,\n    name: \"loadTextures\"\n  },\n  config: {\n    preferWorkers: true,\n    preferCreateImageBitmap: true,\n    crossOrigin: \"anonymous\"\n  },\n  test(url) {\n    return checkDataUrl(url, validImageMIMEs) || checkExtension(url, validImageExtensions);\n  },\n  async load(url, asset, loader) {\n    let src = null;\n    if (globalThis.createImageBitmap && this.config.preferCreateImageBitmap) {\n      if (this.config.preferWorkers && await WorkerManager.isImageBitmapSupported()) {\n        src = await WorkerManager.loadImageBitmap(url, asset);\n      } else {\n        src = await loadImageBitmap(url, asset);\n      }\n    } else {\n      src = await new Promise((resolve, reject) => {\n        src = new Image();\n        src.crossOrigin = this.config.crossOrigin;\n        src.src = url;\n        if (src.complete) {\n          resolve(src);\n        } else {\n          src.onload = () => {\n            resolve(src);\n          };\n          src.onerror = reject;\n        }\n      });\n    }\n    const base = new ImageSource({\n      resource: src,\n      alphaMode: \"premultiply-alpha-on-upload\",\n      resolution: asset.data?.resolution || getResolutionOfUrl(url),\n      ...asset.data\n    });\n    return createTexture(base, loader, url);\n  },\n  unload(texture) {\n    texture.destroy(true);\n  }\n};\n\nexport { loadImageBitmap, loadTextures };\n//# sourceMappingURL=loadTextures.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { VideoSource } from '../../../../rendering/renderers/shared/texture/sources/VideoSource.mjs';\nimport { detectVideoAlphaMode } from '../../../../utils/browser/detectVideoAlphaMode.mjs';\nimport { getResolutionOfUrl } from '../../../../utils/network/getResolutionOfUrl.mjs';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\n\"use strict\";\nconst validVideoExtensions = [\".mp4\", \".m4v\", \".webm\", \".ogg\", \".ogv\", \".h264\", \".avi\", \".mov\"];\nconst validVideoMIMEs = validVideoExtensions.map((ext) => `video/${ext.substring(1)}`);\nfunction crossOrigin(element, url, crossorigin) {\n  if (crossorigin === void 0 && !url.startsWith(\"data:\")) {\n    element.crossOrigin = determineCrossOrigin(url);\n  } else if (crossorigin !== false) {\n    element.crossOrigin = typeof crossorigin === \"string\" ? crossorigin : \"anonymous\";\n  }\n}\nfunction preloadVideo(element) {\n  return new Promise((resolve, reject) => {\n    element.addEventListener(\"canplaythrough\", loaded);\n    element.addEventListener(\"error\", error);\n    element.load();\n    function loaded() {\n      cleanup();\n      resolve();\n    }\n    function error(err) {\n      cleanup();\n      reject(err);\n    }\n    function cleanup() {\n      element.removeEventListener(\"canplaythrough\", loaded);\n      element.removeEventListener(\"error\", error);\n    }\n  });\n}\nfunction determineCrossOrigin(url, loc = globalThis.location) {\n  if (url.startsWith(\"data:\")) {\n    return \"\";\n  }\n  loc || (loc = globalThis.location);\n  const parsedUrl = new URL(url, document.baseURI);\n  if (parsedUrl.hostname !== loc.hostname || parsedUrl.port !== loc.port || parsedUrl.protocol !== loc.protocol) {\n    return \"anonymous\";\n  }\n  return \"\";\n}\nconst loadVideoTextures = {\n  name: \"loadVideo\",\n  extension: {\n    type: ExtensionType.LoadParser,\n    name: \"loadVideo\"\n  },\n  test(url) {\n    const isValidDataUrl = checkDataUrl(url, validVideoMIMEs);\n    const isValidExtension = checkExtension(url, validVideoExtensions);\n    return isValidDataUrl || isValidExtension;\n  },\n  async load(url, asset, loader) {\n    const options = {\n      ...VideoSource.defaultOptions,\n      resolution: asset.data?.resolution || getResolutionOfUrl(url),\n      alphaMode: asset.data?.alphaMode || await detectVideoAlphaMode(),\n      ...asset.data\n    };\n    const videoElement = document.createElement(\"video\");\n    const attributeMap = {\n      preload: options.autoLoad !== false ? \"auto\" : void 0,\n      \"webkit-playsinline\": options.playsinline !== false ? \"\" : void 0,\n      playsinline: options.playsinline !== false ? \"\" : void 0,\n      muted: options.muted === true ? \"\" : void 0,\n      loop: options.loop === true ? \"\" : void 0,\n      autoplay: options.autoPlay !== false ? \"\" : void 0\n    };\n    Object.keys(attributeMap).forEach((key) => {\n      const value = attributeMap[key];\n      if (value !== void 0)\n        videoElement.setAttribute(key, value);\n    });\n    if (options.muted === true) {\n      videoElement.muted = true;\n    }\n    crossOrigin(videoElement, url, options.crossorigin);\n    const sourceElement = document.createElement(\"source\");\n    let mime;\n    if (url.startsWith(\"data:\")) {\n      mime = url.slice(5, url.indexOf(\";\"));\n    } else if (!url.startsWith(\"blob:\")) {\n      const ext = url.split(\"?\")[0].slice(url.lastIndexOf(\".\") + 1).toLowerCase();\n      mime = VideoSource.MIME_TYPES[ext] || `video/${ext}`;\n    }\n    sourceElement.src = url;\n    if (mime) {\n      sourceElement.type = mime;\n    }\n    return new Promise((resolve) => {\n      const onCanPlay = async () => {\n        const base = new VideoSource({ ...options, resource: videoElement });\n        videoElement.removeEventListener(\"canplay\", onCanPlay);\n        if (asset.data.preload) {\n          await preloadVideo(videoElement);\n        }\n        resolve(createTexture(base, loader, url));\n      };\n      videoElement.addEventListener(\"canplay\", onCanPlay);\n      videoElement.appendChild(sourceElement);\n    });\n  },\n  unload(texture) {\n    texture.destroy(true);\n  }\n};\n\nexport { crossOrigin, determineCrossOrigin, loadVideoTextures, preloadVideo };\n//# sourceMappingURL=loadVideoTextures.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { loadTextures } from '../../loader/parsers/textures/loadTextures.mjs';\nimport { Resolver } from '../Resolver.mjs';\n\n\"use strict\";\nconst resolveTextureUrl = {\n  extension: {\n    type: ExtensionType.ResolveParser,\n    name: \"resolveTexture\"\n  },\n  test: loadTextures.test,\n  parse: (value) => ({\n    resolution: parseFloat(Resolver.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n    format: value.split(\".\").pop(),\n    src: value\n  })\n};\n\nexport { resolveTextureUrl };\n//# sourceMappingURL=resolveTextureUrl.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Resolver } from '../Resolver.mjs';\nimport { resolveTextureUrl } from './resolveTextureUrl.mjs';\n\n\"use strict\";\nconst resolveJsonUrl = {\n  extension: {\n    type: ExtensionType.ResolveParser,\n    priority: -2,\n    name: \"resolveJson\"\n  },\n  test: (value) => Resolver.RETINA_PREFIX.test(value) && value.endsWith(\".json\"),\n  parse: resolveTextureUrl.parse\n};\n\nexport { resolveJsonUrl };\n//# sourceMappingURL=resolveJsonUrl.mjs.map\n","import { extensions, ExtensionType } from '../extensions/Extensions.mjs';\nimport { loadBitmapFont, bitmapFontCachePlugin } from '../scene/text-bitmap/asset/loadBitmapFont.mjs';\nimport { warn } from '../utils/logging/warn.mjs';\nimport { BackgroundLoader } from './BackgroundLoader.mjs';\nimport { Cache } from './cache/Cache.mjs';\nimport { cacheTextureArray } from './cache/parsers/cacheTextureArray.mjs';\nimport { detectAvif } from './detections/parsers/detectAvif.mjs';\nimport { detectDefaults } from './detections/parsers/detectDefaults.mjs';\nimport { detectMp4 } from './detections/parsers/detectMp4.mjs';\nimport { detectOgv } from './detections/parsers/detectOgv.mjs';\nimport { detectWebm } from './detections/parsers/detectWebm.mjs';\nimport { detectWebp } from './detections/parsers/detectWebp.mjs';\nimport { Loader } from './loader/Loader.mjs';\nimport { loadJson } from './loader/parsers/loadJson.mjs';\nimport { loadTxt } from './loader/parsers/loadTxt.mjs';\nimport { loadWebFont } from './loader/parsers/loadWebFont.mjs';\nimport { loadSvg } from './loader/parsers/textures/loadSVG.mjs';\nimport { loadTextures } from './loader/parsers/textures/loadTextures.mjs';\nimport { loadVideoTextures } from './loader/parsers/textures/loadVideoTextures.mjs';\nimport { resolveJsonUrl } from './resolver/parsers/resolveJsonUrl.mjs';\nimport { resolveTextureUrl } from './resolver/parsers/resolveTextureUrl.mjs';\nimport { Resolver } from './resolver/Resolver.mjs';\nimport { convertToList } from './utils/convertToList.mjs';\nimport { isSingleItem } from './utils/isSingleItem.mjs';\n\n\"use strict\";\nclass AssetsClass {\n  constructor() {\n    this._detections = [];\n    this._initialized = false;\n    this.resolver = new Resolver();\n    this.loader = new Loader();\n    this.cache = Cache;\n    this._backgroundLoader = new BackgroundLoader(this.loader);\n    this._backgroundLoader.active = true;\n    this.reset();\n  }\n  /**\n   * Best practice is to call this function before any loading commences\n   * Initiating is the best time to add any customization to the way things are loaded.\n   *\n   * you do not need to call this for the Assets class to work, only if you want to set any initial properties\n   * @param options - options to initialize the Assets manager with\n   */\n  async init(options = {}) {\n    if (this._initialized) {\n      warn(\"[Assets]AssetManager already initialized, did you load before calling this Assets.init()?\");\n      return;\n    }\n    this._initialized = true;\n    if (options.defaultSearchParams) {\n      this.resolver.setDefaultSearchParams(options.defaultSearchParams);\n    }\n    if (options.basePath) {\n      this.resolver.basePath = options.basePath;\n    }\n    if (options.bundleIdentifier) {\n      this.resolver.setBundleIdentifier(options.bundleIdentifier);\n    }\n    if (options.manifest) {\n      let manifest = options.manifest;\n      if (typeof manifest === \"string\") {\n        manifest = await this.load(manifest);\n      }\n      this.resolver.addManifest(manifest);\n    }\n    const resolutionPref = options.texturePreference?.resolution ?? 1;\n    const resolution = typeof resolutionPref === \"number\" ? [resolutionPref] : resolutionPref;\n    const formats = await this._detectFormats({\n      preferredFormats: options.texturePreference?.format,\n      skipDetections: options.skipDetections,\n      detections: this._detections\n    });\n    this.resolver.prefer({\n      params: {\n        format: formats,\n        resolution\n      }\n    });\n    if (options.preferences) {\n      this.setPreferences(options.preferences);\n    }\n  }\n  /**\n   * Allows you to specify how to resolve any assets load requests.\n   * There are a few ways to add things here as shown below:\n   * @example\n   * import { Assets } from 'pixi.js';\n   *\n   * // Simple\n   * Assets.add({alias: 'bunnyBooBoo', src: 'bunny.png'});\n   * const bunny = await Assets.load('bunnyBooBoo');\n   *\n   * // Multiple keys:\n   * Assets.add({alias: ['burger', 'chicken'], src: 'bunny.png'});\n   *\n   * const bunny = await Assets.load('burger');\n   * const bunny2 = await Assets.load('chicken');\n   *\n   * // passing options to to the object\n   * Assets.add({\n   *     alias: 'bunnyBooBooSmooth',\n   *     src: 'bunny.{png,webp}',\n   *     data: { scaleMode: SCALE_MODES.NEAREST }, // Base texture options\n   * });\n   *\n   * // Multiple assets\n   *\n   * // The following all do the same thing:\n   *\n   * Assets.add({alias: 'bunnyBooBoo', src: 'bunny.{png,webp}'});\n   *\n   * Assets.add({\n   *     alias: 'bunnyBooBoo',\n   *     src: [\n   *         'bunny.png',\n   *         'bunny.webp',\n   *    ],\n   * });\n   *\n   * const bunny = await Assets.load('bunnyBooBoo'); // Will try to load WebP if available\n   * @param assets - the unresolved assets to add to the resolver\n   */\n  add(assets) {\n    this.resolver.add(assets);\n  }\n  async load(urls, onProgress) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    const singleAsset = isSingleItem(urls);\n    const urlArray = convertToList(urls).map((url) => {\n      if (typeof url !== \"string\") {\n        const aliases = this.resolver.getAlias(url);\n        if (aliases.some((alias) => !this.resolver.hasKey(alias))) {\n          this.add(url);\n        }\n        return Array.isArray(aliases) ? aliases[0] : aliases;\n      }\n      if (!this.resolver.hasKey(url))\n        this.add({ alias: url, src: url });\n      return url;\n    });\n    const resolveResults = this.resolver.resolve(urlArray);\n    const out = await this._mapLoadToResolve(resolveResults, onProgress);\n    return singleAsset ? out[urlArray[0]] : out;\n  }\n  /**\n   * This adds a bundle of assets in one go so that you can load them as a group.\n   * For example you could add a bundle for each screen in you pixi app\n   * @example\n   * import { Assets } from 'pixi.js';\n   *\n   * Assets.addBundle('animals', [\n   *  { alias: 'bunny', src: 'bunny.png' },\n   *  { alias: 'chicken', src: 'chicken.png' },\n   *  { alias: 'thumper', src: 'thumper.png' },\n   * ]);\n   * // or\n   * Assets.addBundle('animals', {\n   *     bunny: 'bunny.png',\n   *     chicken: 'chicken.png',\n   *     thumper: 'thumper.png',\n   * });\n   *\n   * const assets = await Assets.loadBundle('animals');\n   * @param bundleId - the id of the bundle to add\n   * @param assets - a record of the asset or assets that will be chosen from when loading via the specified key\n   */\n  addBundle(bundleId, assets) {\n    this.resolver.addBundle(bundleId, assets);\n  }\n  /**\n   * Bundles are a way to load multiple assets at once.\n   * If a manifest has been provided to the init function then you can load a bundle, or bundles.\n   * you can also add bundles via `addBundle`\n   * @example\n   * import { Assets } from 'pixi.js';\n   *\n   * // Manifest Example\n   * const manifest = {\n   *     bundles: [\n   *         {\n   *             name: 'load-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'background',\n   *                     src: 'sunset.png',\n   *                 },\n   *                 {\n   *                     alias: 'bar',\n   *                     src: 'load-bar.{png,webp}',\n   *                 },\n   *             ],\n   *         },\n   *         {\n   *             name: 'game-screen',\n   *             assets: [\n   *                 {\n   *                     alias: 'character',\n   *                     src: 'robot.png',\n   *                 },\n   *                 {\n   *                     alias: 'enemy',\n   *                     src: 'bad-guy.png',\n   *                 },\n   *             ],\n   *         },\n   *     ]\n   * };\n   *\n   * await Assets.init({ manifest });\n   *\n   * // Load a bundle...\n   * loadScreenAssets = await Assets.loadBundle('load-screen');\n   * // Load another bundle...\n   * gameScreenAssets = await Assets.loadBundle('game-screen');\n   * @param bundleIds - the bundle id or ids to load\n   * @param onProgress - Optional function that is called when progress on asset loading is made.\n   * The function is passed a single parameter, `progress`, which represents the percentage (0.0 - 1.0)\n   * of the assets loaded. Do not use this function to detect when assets are complete and available,\n   * instead use the Promise returned by this function.\n   * @returns all the bundles assets or a hash of assets for each bundle specified\n   */\n  async loadBundle(bundleIds, onProgress) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    let singleAsset = false;\n    if (typeof bundleIds === \"string\") {\n      singleAsset = true;\n      bundleIds = [bundleIds];\n    }\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    const out = {};\n    const keys = Object.keys(resolveResults);\n    let count = 0;\n    let total = 0;\n    const _onProgress = () => {\n      onProgress?.(++count / total);\n    };\n    const promises = keys.map((bundleId) => {\n      const resolveResult = resolveResults[bundleId];\n      total += Object.keys(resolveResult).length;\n      return this._mapLoadToResolve(resolveResult, _onProgress).then((resolveResult2) => {\n        out[bundleId] = resolveResult2;\n      });\n    });\n    await Promise.all(promises);\n    return singleAsset ? out[bundleIds[0]] : out;\n  }\n  /**\n   * Initiate a background load of some assets. It will passively begin to load these assets in the background.\n   * So when you actually come to loading them you will get a promise that resolves to the loaded assets immediately\n   *\n   * An example of this might be that you would background load game assets after your initial load.\n   * then when you got to actually load your game screen assets when a player goes to the game - the loading\n   * would already have stared or may even be complete, saving you having to show an interim load bar.\n   * @example\n   * import { Assets } from 'pixi.js';\n   *\n   * Assets.backgroundLoad('bunny.png');\n   *\n   * // later on in your app...\n   * await Assets.loadBundle('bunny.png'); // Will resolve quicker as loading may have completed!\n   * @param urls - the url / urls you want to background load\n   */\n  async backgroundLoad(urls) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    if (typeof urls === \"string\") {\n      urls = [urls];\n    }\n    const resolveResults = this.resolver.resolve(urls);\n    this._backgroundLoader.add(Object.values(resolveResults));\n  }\n  /**\n   * Initiate a background of a bundle, works exactly like backgroundLoad but for bundles.\n   * this can only be used if the loader has been initiated with a manifest\n   * @example\n   * import { Assets } from 'pixi.js';\n   *\n   * await Assets.init({\n   *     manifest: {\n   *         bundles: [\n   *             {\n   *                 name: 'load-screen',\n   *                 assets: [...],\n   *             },\n   *             ...\n   *         ],\n   *     },\n   * });\n   *\n   * Assets.backgroundLoadBundle('load-screen');\n   *\n   * // Later on in your app...\n   * await Assets.loadBundle('load-screen'); // Will resolve quicker as loading may have completed!\n   * @param bundleIds - the bundleId / bundleIds you want to background load\n   */\n  async backgroundLoadBundle(bundleIds) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    if (typeof bundleIds === \"string\") {\n      bundleIds = [bundleIds];\n    }\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    Object.values(resolveResults).forEach((resolveResult) => {\n      this._backgroundLoader.add(Object.values(resolveResult));\n    });\n  }\n  /**\n   * Only intended for development purposes.\n   * This will wipe the resolver and caches.\n   * You will need to reinitialize the Asset\n   */\n  reset() {\n    this.resolver.reset();\n    this.loader.reset();\n    this.cache.reset();\n    this._initialized = false;\n  }\n  get(keys) {\n    if (typeof keys === \"string\") {\n      return Cache.get(keys);\n    }\n    const assets = {};\n    for (let i = 0; i < keys.length; i++) {\n      assets[i] = Cache.get(keys[i]);\n    }\n    return assets;\n  }\n  /**\n   * helper function to map resolved assets back to loaded assets\n   * @param resolveResults - the resolve results from the resolver\n   * @param onProgress - the progress callback\n   */\n  async _mapLoadToResolve(resolveResults, onProgress) {\n    const resolveArray = [...new Set(Object.values(resolveResults))];\n    this._backgroundLoader.active = false;\n    const loadedAssets = await this.loader.load(resolveArray, onProgress);\n    this._backgroundLoader.active = true;\n    const out = {};\n    resolveArray.forEach((resolveResult) => {\n      const asset = loadedAssets[resolveResult.src];\n      const keys = [resolveResult.src];\n      if (resolveResult.alias) {\n        keys.push(...resolveResult.alias);\n      }\n      keys.forEach((key) => {\n        out[key] = asset;\n      });\n      Cache.set(keys, asset);\n    });\n    return out;\n  }\n  /**\n   * Unload an asset or assets. As the Assets class is responsible for creating the assets via the `load` function\n   * this will make sure to destroy any assets and release them from memory.\n   * Once unloaded, you will need to load the asset again.\n   *\n   * Use this to help manage assets if you find that you have a large app and you want to free up memory.\n   *\n   * - it's up to you as the developer to make sure that textures are not actively being used when you unload them,\n   * Pixi won't break but you will end up with missing assets. Not a good look for the user!\n   * @example\n   * import { Assets } from 'pixi.js';\n   *\n   * // Load a URL:\n   * const myImageTexture = await Assets.load('http://some.url.com/image.png'); // => returns a texture\n   *\n   * await Assets.unload('http://some.url.com/image.png')\n   *\n   * // myImageTexture will be destroyed now.\n   *\n   * // Unload multiple assets:\n   * const textures = await Assets.unload(['thumper', 'chicko']);\n   * @param urls - the urls to unload\n   */\n  async unload(urls) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    const urlArray = convertToList(urls).map((url) => typeof url !== \"string\" ? url.src : url);\n    const resolveResults = this.resolver.resolve(urlArray);\n    await this._unloadFromResolved(resolveResults);\n  }\n  /**\n   * Bundles are a way to manage multiple assets at once.\n   * this will unload all files in a bundle.\n   *\n   * once a bundle has been unloaded, you need to load it again to have access to the assets.\n   * @example\n   * import { Assets } from 'pixi.js';\n   *\n   * Assets.addBundle({\n   *     'thumper': 'http://some.url.com/thumper.png',\n   * })\n   *\n   * const assets = await Assets.loadBundle('thumper');\n   *\n   * // Now to unload...\n   *\n   * await Assets.unloadBundle('thumper');\n   *\n   * // All assets in the assets object will now have been destroyed and purged from the cache\n   * @param bundleIds - the bundle id or ids to unload\n   */\n  async unloadBundle(bundleIds) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    bundleIds = convertToList(bundleIds);\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    const promises = Object.keys(resolveResults).map((bundleId) => this._unloadFromResolved(resolveResults[bundleId]));\n    await Promise.all(promises);\n  }\n  async _unloadFromResolved(resolveResult) {\n    const resolveArray = Object.values(resolveResult);\n    resolveArray.forEach((resolveResult2) => {\n      Cache.remove(resolveResult2.src);\n    });\n    await this.loader.unload(resolveArray);\n  }\n  /**\n   * Detects the supported formats for the browser, and returns an array of supported formats, respecting\n   * the users preferred formats order.\n   * @param options - the options to use when detecting formats\n   * @param options.preferredFormats - the preferred formats to use\n   * @param options.skipDetections - if we should skip the detections altogether\n   * @param options.detections - the detections to use\n   * @returns - the detected formats\n   */\n  async _detectFormats(options) {\n    let formats = [];\n    if (options.preferredFormats) {\n      formats = Array.isArray(options.preferredFormats) ? options.preferredFormats : [options.preferredFormats];\n    }\n    for (const detection of options.detections) {\n      if (options.skipDetections || await detection.test()) {\n        formats = await detection.add(formats);\n      } else if (!options.skipDetections) {\n        formats = await detection.remove(formats);\n      }\n    }\n    formats = formats.filter((format, index) => formats.indexOf(format) === index);\n    return formats;\n  }\n  /** All the detection parsers currently added to the Assets class. */\n  get detections() {\n    return this._detections;\n  }\n  /**\n   * General setter for preferences. This is a helper function to set preferences on all parsers.\n   * @param preferences - the preferences to set\n   */\n  setPreferences(preferences) {\n    this.loader.parsers.forEach((parser) => {\n      if (!parser.config)\n        return;\n      Object.keys(parser.config).filter((key) => key in preferences).forEach((key) => {\n        parser.config[key] = preferences[key];\n      });\n    });\n  }\n}\nconst Assets = new AssetsClass();\nextensions.handleByList(ExtensionType.LoadParser, Assets.loader.parsers).handleByList(ExtensionType.ResolveParser, Assets.resolver.parsers).handleByList(ExtensionType.CacheParser, Assets.cache.parsers).handleByList(ExtensionType.DetectionParser, Assets.detections);\nextensions.add(\n  cacheTextureArray,\n  detectDefaults,\n  detectAvif,\n  detectWebp,\n  detectMp4,\n  detectOgv,\n  detectWebm,\n  loadJson,\n  loadTxt,\n  loadWebFont,\n  loadSvg,\n  loadTextures,\n  loadVideoTextures,\n  loadBitmapFont,\n  bitmapFontCachePlugin,\n  resolveTextureUrl,\n  resolveJsonUrl\n);\nconst assetKeyMap = {\n  loader: ExtensionType.LoadParser,\n  resolver: ExtensionType.ResolveParser,\n  cache: ExtensionType.CacheParser,\n  detection: ExtensionType.DetectionParser\n};\nextensions.handle(ExtensionType.Asset, (extension) => {\n  const ref = extension.ref;\n  Object.entries(assetKeyMap).filter(([key]) => !!ref[key]).forEach(([key, type]) => extensions.add(Object.assign(\n    ref[key],\n    // Allow the function to optionally define it's own\n    // ExtensionMetadata, the use cases here is priority for LoaderParsers\n    { extension: ref[key].extension ?? type }\n  )));\n}, (extension) => {\n  const ref = extension.ref;\n  Object.keys(assetKeyMap).filter((key) => !!ref[key]).forEach((key) => extensions.remove(ref[key]));\n});\n\nexport { Assets, AssetsClass };\n//# sourceMappingURL=Assets.mjs.map\n"],"names":["crossOrigin","WORKER_CODE","WORKER_URL","WorkerInstance","revokeObjectURL","WorkerInstance$1"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31]}