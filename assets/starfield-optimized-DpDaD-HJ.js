import{b as f,t as S,i as M,c as s,o as u,S as v,a as z,e as A,f as T}from"./index-BiRI9b0p.js";import{d as k}from"./index-D20V7ycx.js";import{S as w}from"./index-CyjbRZys.js";import{A as I,C as E,T as Z,o as H}from"./pixi-De9snsy_.js";import{A as _}from"./Assets-DAB4P3AN.js";import"./BitmapFontManager-beuy6bO7.js";import"./TextStyle-B12M9Kel.js";import"./GraphicsContext-Cq8oT6sH.js";var $=S("<div>"),O=S("<div>Loading...");const P=.025,g=20,x=720,C=400,X=.05,Y=a=>{const[c,m]=f(0),[i,l]=f(void 0),[o]=z(async()=>await _.load("/solid-pixi/img/star.png"));H(t=>{m(r=>r+=t.deltaTime*10*P),e.forEach(y)});let e=[];A(T([()=>a.starCount,i,o],([t,r,d])=>{r&&d&&(e.forEach(n=>n.destroy()),e=Array.from({length:t},()=>{const n=new w(d),h=Math.random()*Math.PI*2,p=Math.random()*50+1;return n.initX=Math.cos(h)*p,n.initY=Math.sin(h)*p,n.initZ=Math.random()*1e3+750,n.x=n.initX,n.y=n.initY,n.z=n.initZ,n.anchor.set(.5,.7),n}),console.log("adding stars to container",e.length),r.addChild(...e))}));function y(t){let r=t.z-c();r<1&&(t.z+=Math.random()*2e3+1e3,r=t.z-c());const d=Math.max(0,(2e3-r)/2e3);t.scale.set(d*X),t.x=t.initX*(g/r)*x+x/2,t.y=t.initY*(g/r)*C+C/2}return u(()=>{e.forEach(t=>t.destroy())}),s(E,{ref:t=>l(t)})};function j(){const a=[100,1e3,1e4],[c,m]=f(a[0]);let i;u(()=>{i==null||i.pixiHooks.release()});const l=()=>{m(o=>{const e=(a.indexOf(o)+1)%a.length;return a[e]})};return(()=>{var o=$();return o.style.setProperty("position","relative"),M(o,s(v,{get fallback(){return O()},get children(){return s(I,{eventMode:"static",ref:e=>{i=new k.Stats(e.renderer,e.canvas.parentElement),e.stage.hitArea=e.screen,e.stage.on("pointertap",l),u(()=>{e.stage.off("pointertap",l)})},get children(){return s(E,{get children(){return[s(Z,{get text(){return`${c().toLocaleString()} stars. Click anywhere to change.`},style:{fill:"white",fontSize:16}}),s(Y,{get starCount(){return c()}})]}})}})}})),o})()}export{j as default};
