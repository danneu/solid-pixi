{"version":3,"file":"mesh-plane-B1eFBYMe.js","sources":["../../src/pages/demo/basic/mesh-plane.tsx"],"sourcesContent":["import { Application, MeshPlane, onTick } from \"@danneu/solid-pixi\";\nimport * as PIXI from \"pixi.js\";\nimport { createResource, Suspense, type Component, Show } from \"solid-js\";\n\nconst Example: Component<{ texture: PIXI.Texture }> = (props) => {\n  let timer = 0;\n\n  return (\n    <MeshPlane\n      ref={(el) => {\n        const { buffer } = el.geometry.getAttribute(\"aPosition\");\n        onTick(() => {\n          for (let i = 0; i < buffer.data.length; i++) {\n            buffer.data[i] += Math.sin(timer / 10 + i) * 0.5;\n          }\n          buffer.update();\n          timer++;\n        });\n      }}\n      texture={props.texture}\n      x={100}\n      y={100}\n      verticesX={10}\n      verticesY={10}\n    />\n  );\n};\n\nexport default function () {\n  const [texture] = createResource(async () => {\n    return await PIXI.Assets.load(\"https://pixijs.com/assets/bg_grass.jpg\");\n  });\n\n  return (\n    <Suspense fallback={<div>Loading</div>}>\n      <Application backgroundColor={0x1099bb}>\n        <Show when={texture()}>\n          <Example texture={texture()} />\n        </Show>\n      </Application>\n    </Suspense>\n  );\n}\n"],"names":["Example","props","timer","_$createComponent","MeshPlane","ref","el","buffer","geometry","getAttribute","onTick","i","data","length","Math","sin","update","texture","x","y","verticesX","verticesY","createResource","PIXI","load","Suspense","fallback","_tmpl$","children","Application","backgroundColor","Show","when"],"mappings":";;;;;;;;AAIA,MAAMA,UAAiDC,CAAU,UAAA;AAC/D,MAAIC,QAAQ;AAEZ,SAAAC,gBACGC,WAAS;AAAA,IAAAC,KACFC,CAAO,OAAA;AACL,YAAA;AAAA,QAAEC;AAAAA,MAAWD,IAAAA,GAAGE,SAASC,aAAa,WAAW;AACvDC,aAAO,MAAM;AACX,iBAASC,IAAI,GAAGA,IAAIJ,OAAOK,KAAKC,QAAQF,KAAK;AACpCC,iBAAAA,KAAKD,CAAC,KAAKG,KAAKC,IAAIb,QAAQ,KAAKS,CAAC,IAAI;AAAA,QAAA;AAE/CJ,eAAOS,OAAO;AACdd;AAAAA,MAAAA,CACD;AAAA,IACH;AAAA,IAAC,IACDe,UAAO;AAAA,aAAEhB,MAAMgB;AAAAA,IAAO;AAAA,IACtBC,GAAG;AAAA,IACHC,GAAG;AAAA,IACHC,WAAW;AAAA,IACXC,WAAW;AAAA,EAAA,CAAE;AAGnB;AAE2B,SAAA,YAAA;AACzB,QAAM,CAACJ,OAAO,IAAIK,eAAe,YAAY;AAC3C,WAAO,MAAMC,OAAYC,KAAK,wCAAwC;AAAA,EAAA,CACvE;AAED,SAAArB,gBACGsB,UAAQ;AAAA,IAAA,IAACC,WAAQ;AAAA,aAAAC,OAAA;AAAA,IAAA;AAAA,IAAA,IAAAC,WAAA;AAAA,aAAAzB,gBACf0B,aAAW;AAAA,QAACC,iBAAiB;AAAA,QAAQ,IAAAF,WAAA;AAAA,iBAAAzB,gBACnC4B,MAAI;AAAA,YAAA,IAACC,OAAI;AAAA,qBAAEf,QAAQ;AAAA,YAAC;AAAA,YAAA,IAAAW,WAAA;AAAA,qBAAAzB,gBAClBH,SAAO;AAAA,gBAAA,IAACiB,UAAO;AAAA,yBAAEA,QAAQ;AAAA,gBAAA;AAAA,cAAC,CAAA;AAAA,YAAA;AAAA,UAAA,CAAA;AAAA,QAAA;AAAA,MAAA,CAAA;AAAA,IAAA;AAAA,EAAA,CAAA;AAKrC;"}